<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="../css/estilos-user-.css" rel="stylesheet" type="text/css">
</head>

<div class="wrapp">

    <div class="cabecera">

        <img src="images/Logo.jpg">

        <div class="bienvenida">

            <h1 id="bienvenida">Bienvenido usuario, <span id="usuarioCorreo"></span></h1>

            <div class="menu">

                <li>Inicio</li>
                <li>Contacto</li>

            </div>

        </div>

    </div>

    <div id="Habitacion"></div>



</div>

<script>
   
   function obtenerParametroURL(nombre) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(nombre);
    }

    const correo = obtenerParametroURL('correo');

    if (correo) {
        document.getElementById('usuarioCorreo').textContent = correo;
    } else {
        window.location.href = 'index.html';
    }

  ///////////////////////////////////////////////

    function obtenerHAbitaciones() {

    
        const variablehabitacionesStock = document.getElementById('Habitacion');
    
        variablehabitacionesStock.innerHTML = '';
     
        fetch('http://localhost:3000/habitaciones')

        .then(response => response.json())
       
        .then(data => {

            data.habitaciones.forEach(element => {

                //esto es crear un div en java
                const habitacionDiv = document.createElement('div');

                habitacionDiv.innerHTML=`

                    <div class="employeeField">${element.nombre}</div>
                    <div class="employeeField">${element.precio}</div> ` ;
                
                variablehabitacionesStock.appendChild(habitacionDiv);
            })

           

        })
        .catch(error => {
        console.error('Error NO SE PUEDE MOSTRAR', error);
        
        }); 


    }

       obtenerHAbitaciones();


</script>

</html>