<html>

<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="../css/estilos-user-.css" rel="stylesheet" type="text/css">
</head>

<div class="wrapp">

    <div class="cabecera">

        <img src="images/Logo.jpg">

        <div class="bienvenida">

            <h1 id="bienvenida">Bienvenido usuario, <span id="usuarioCorreo"></span></h1>

            <div class="menu">

                <li>Inicio</li>
                <li>Contacto</li>

            </div>

        </div>

        


    </div>


    <div id="habitacionesStock" class="serviciosht">

    </div>

</div>

<script>
    console.log("Antes de la funcion")


function mostrarStock() {
   
    const habitacionesStock = document.getElementById('habitacionesStock');
  
    habitacionesStock.innerHTML = '';
 
  
        fetch('http://localhost:3000/habitaciones')
    
        .then(response => response.json())  // Convierte la respuesta en formato JSON
    
        .then(data => {
       
           // Procesar habitaciones
           data.habitaciones.forEach(habitacionesItem => {
            
            const habitacionDetails = document.createElement('div');
            habitacionDetails.classList.add('stockDetails');
            
            habitacionDetails.innerHTML = `
                
                <div class="stockField"><strong>Nombre:</strong> ${habitacionesItem.nombre}</div>
                <div class="stockField"><strong>Precio:</strong> ${habitacionesItem.precio}â‚¬</div>
                
            `;

            habitacionesStock.appendChild(habitacionDetails);
        });
        
    })
    .catch(error => {
        // Maneja cualquier error que ocurra en la solicitud
        console.error('Error:', error);
    });

     
        
       

       
  
}



    function obtenerParametroURL(nombre) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(nombre);
    }

    const correo = obtenerParametroURL('correo');

    if (correo) {
        document.getElementById('usuarioCorreo').textContent = correo;
    } else {
        window.location.href = 'index.html';
    }

    mostrarStock();
</script>

</html>